<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Sick Matter.js Hero</title>
<style>
  * {
    margin: 0; padding: 0; box-sizing: border-box;
  }
  body {
    background: radial-gradient(circle at center, #0d0d0d, #000);
    font-family: 'Poppins', sans-serif;
    overflow: hidden;
    color: white;
  }
  #hero {
    position: relative;
    width: 100%;
    height: 100vh;
  }
  canvas {
    position: absolute;
    top: 0; left: 0;
    z-index: 0;
  }
  .hero-content {
    position: relative;
    z-index: 10;
    text-align: center;
    top: 50%;
    transform: translateY(-50%);
  }
  .hero-content h1 {
    font-size: 4rem;
    letter-spacing: 2px;
    text-shadow: 0px 4px 15px rgba(255,255,255,0.2);
  }
  .hero-content p {
    margin-top: 1rem;
    font-size: 1.2rem;
    opacity: 0.8;
  }
  .btn {
    margin-top: 2rem;
    padding: 12px 30px;
    background: #ff0077;
    border: none;
    border-radius: 25px;
    color: white;
    font-size: 1.1rem;
    cursor: pointer;
    transition: 0.3s;
  }
  .btn:hover {
    background: #ff3399;
    transform: scale(1.05);
  }
</style>
</head>
<body>

<div id="hero">
  <div class="hero-content">
    <h1>Interactive Physics Hero</h1>
    <p>Hover, drag, and watch the chaos</p>
    <button class="btn">Join the Fun</button>
  </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/matter-js/0.19.0/matter.min.js"></script>
<script>
const { Engine, Render, Runner, World, Bodies, Body, Mouse, MouseConstraint, Events, Vector } = Matter;

const engine = Engine.create();
const world = engine.world;
engine.world.gravity.y = 0.5;

const hero = document.getElementById("hero");
const width = window.innerWidth;
const height = window.innerHeight;

const render = Render.create({
  element: hero,
  engine: engine,
  options: {
    width: width,
    height: height,
    wireframes: false,
    background: 'transparent',
    pixelRatio: window.devicePixelRatio
  }
});
Render.run(render);
const runner = Runner.create();
Runner.run(runner, engine);

// Walls
const walls = [
  Bodies.rectangle(width/2, height+50, width, 100, { isStatic: true }),
  Bodies.rectangle(width/2, -50, width, 100, { isStatic: true }),
  Bodies.rectangle(-50, height/2, 100, height, { isStatic: true }),
  Bodies.rectangle(width+50, height/2, 100, height, { isStatic: true })
];
World.add(world, walls);

// Colors
const colors = ['#ff0077', '#00ffaa', '#00aaff', '#ffaa00', '#aa00ff', '#ff0055'];

// Shapes
for (let i = 0; i < 25; i++) {
  const size = Math.random() * 40 + 20;
  const x = Math.random() * width;
  const y = Math.random() * height;

  const shape = Math.random() > 0.5 
    ? Bodies.circle(x, y, size / 2, {
        render: { fillStyle: colors[Math.floor(Math.random()*colors.length)] },
        restitution: 0.9,
        friction: 0.005
      })
    : Bodies.rectangle(x, y, size, size, {
        render: { fillStyle: colors[Math.floor(Math.random()*colors.length)] },
        restitution: 0.9,
        friction: 0.005
      });

  Body.setAngularVelocity(shape, (Math.random() - 0.5) * 0.1);
  World.add(world, shape);
}

// Mouse drag
const mouse = Mouse.create(render.canvas);
const mouseConstraint = MouseConstraint.create(engine, {
  mouse: mouse,
  constraint: { stiffness: 0.2, render: { visible: false } }
});
World.add(world, mouseConstraint);
render.mouse = mouse;

// Repel effect
Events.on(engine, 'beforeUpdate', () => {
  const mousePos = mouse.position;
  world.bodies.forEach(body => {
    if (!body.isStatic) {
      const dist = Vector.magnitude(Vector.sub(body.position, mousePos));
      if (dist < 150) {
        const forceMagnitude = 0.0005 * (150 - dist);
        const direction = Vector.normalise(Vector.sub(body.position, mousePos));
        Body.applyForce(body, body.position, Vector.mult(direction, forceMagnitude));
      }
    }
  });
});

// Random gravity shift
setInterval(() => {
  const dir = Math.floor(Math.random() * 4);
  engine.world.gravity.x = dir === 0 ? 0.5 : dir === 1 ? -0.5 : 0;
  engine.world.gravity.y = dir === 2 ? 0.5 : dir === 3 ? -0.5 : 0;
}, 5000);

// Resize
window.addEventListener('resize', () => {
  Render.lookAt(render, {
    min: { x: 0, y: 0 },
    max: { x: window.innerWidth, y: window.innerHeight }
  });
});
</script>
</body>
</html>
